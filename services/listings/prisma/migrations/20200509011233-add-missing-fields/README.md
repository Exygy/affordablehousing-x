# Migration `20200509011233-add-missing-fields`

This migration has been generated by Marcin Jedras at 5/9/2020, 1:12:33 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Listing" ADD COLUMN "applicationPhone" text   ,
ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "externalId" text   ,
ADD COLUMN "hideUnitFeatures" boolean   ,
ADD COLUMN "prioritiesDescriptor" text   ,
ADD COLUMN "reservedCommunityMaximumAge" integer   ,
ADD COLUMN "reservedCommunityMinimumAge" integer   ,
ADD COLUMN "reservedDescriptor" text   ,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200509005703-change-fields-to-nullable..20200509011233-add-missing-fields
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -17,8 +17,9 @@
   amenities                            String?
   applicationDueDate                   String?
   applicationOpenDate                  String?
   applicationFee                       String?
+  applicationPhone                     String?
   applicationOrganization              String?
   applicationAddress                   Address?      @relation("applicationAddress", fields: [applicationAddressId], references: [id])
   applicationAddressId                 String?
   attachments                          Attachment[]
@@ -33,8 +34,10 @@
   depositMin                           String?
   depositMax                           String?
   developer                            String?
   disableUnitsAccordion                Boolean?
+  externalId                           String?
+  hideUnitFeatures                     Boolean?
   imageUrl                             String?
   leasingAgentAddress                  Address?      @relation("leasingAgentAddress", fields: [leasingAgentAddressId], references: [id])
   leasingAgentAddressId                String?
   leasingAgentEmail                    String?
@@ -43,12 +46,16 @@
   leasingAgentPhone                    String?
   leasingAgentTitle                    String?
   name                                 String?
   neighborhood                         String?
+  prioritiesDescriptor                 String?
   preferences                          Preference[]
   petPolicy                            String?
   postmarkedApplicationsReceivedByDate String?
   programRules                         String?
+  reservedCommunityMaximumAge          Int?
+  reservedCommunityMinimumAge          Int?
+  reservedDescriptor                   String?
   rentalHistory                        String?
   requiredDocuments                    String?
   smokingPolicy                        String?
   units                                Unit[]
@@ -58,8 +65,10 @@
   urlSlug                              String?
   waitlistCurrentSize                  Int?
   waitlistMaxSize                      Int?
   yearBuilt                            Int?
+  createdAt                    DateTime @default(now())
+  updatedAt                    DateTime @updatedAt
 }
 model Unit {
   id                           String   @default(uuid()) @id
```


